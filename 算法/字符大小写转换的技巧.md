# 字符大小写转换的技巧

问题：

```markdown
1、怎么将大小写字符串中的每个字符，都转换为小写字符
2、.................................大写..
3、怎么将字符串中的大写字符变成小写字符，而小写字符变成大写字符
```



答案：

除了直接加减ascii码，更底层的方式是使用位运算：

```markdown
统一转成大写：ch & 0b11011111 简写：ch & 0xDF
统一转成小写：ch | 0b00100000 简写：ch | 0x20
```

这是因为大写字符的ascii码是，【65，90】

而小写字符的ascii码是，【97，122】

细看一下【65，90】和【97，122】

```markdown
65 = 0b01000001

90 = 0b01011010

97 = 0b01100001

122 = 0b01111010
```

很明显，区别在于右数的第6位，即`2 ^ 5 = 32`，这一位决定了是大写还是小写，小写的这一位都是1，大写的则是0。

因此`& 0b11011111`运算，与运算就是只要有0，就会变成0；而只要有1，则保持不变，就是将除了右数的第6位，其余保持不变。而右数的第6位要是本身就是0，那么保持不变，否则变成1。

`| 0b00100000`，或运算就是只要有1，就会变成1；而与0或运算，则保持不变。因此右数的第6位要是0（表征了大写），那么就会变成1，从而ascii码加上32。而右数的第6位要是1（表征小写字母），则不变。

大小写互相转换，则用异或运算。`ch ^ 0x20`

